<div id="nav">
  <nav class="nav-menu">
    {{ $logoText := .Site.Params.logoText | default .Site.Title }}
    <a class="site-name{{ if .IsHome }} current{{ end }}" href="{{ .Site.BaseURL }}" title="{{ .Site.Params.siteSubtitle }}">{{ slicestr $logoText 0 1 }}</a>
    <a class="site-index{{ if .IsHome }} current{{ end }}" href="{{ "/" | relURL }}"><i class="fa fa-home"></i><span>首页</span></a>
    {{ $iconMap := dict "categories" "th-large" "tags" "tags" "archives" "archive" "links" "link" "about" "user" }}
    {{ range .Site.Menus.main }}
      {{ if ne .Identifier "home" }}
        {{ $menuURL := .URL | relURL }}
        {{ $currentURL := $.RelPermalink | relURL }}
        {{ $active := or ( $.IsMenuCurrent "main" . ) ( $.HasMenuCurrent "main" . ) ( eq (trim $menuURL "/") (trim $currentURL "/") ) }}
        {{ $key := .Identifier | default (urlize .Name) }}
        {{ $icon := index $iconMap $key | default "circle-o" }}
        <a href="{{ $menuURL }}" class="{{ if $active }}current{{ end }}">
          <i class="fa fa-{{ $icon }}"></i>
          <span class="title">{{ .Name }}</span>
        </a>
      {{ end }}
    {{ end }}
  </nav>
</div>
<div class="nav-user">
  <a class="btn-search" href="#" aria-label="Search" aria-expanded="false"><i class="fa fa-search"></i></a>
  <a class="btn-read-mode" href="#" aria-label="Toggle theme" data-mode="day"><i class="fa fa-sun-o"></i></a>
</div>
